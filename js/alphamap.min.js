/*!
 * SkiCycleRun v4.0.0-alpha (https://skicyclerun.com)
 * Copyright 2018 - SkiCycleRun2019 Feo ElGato
 * Licensed under MIT repository git+https://github.com/timothyhalley/skicyclerun.git
 */
function initMap(){var e={lat:47.544539,lng:-121.986808},t=new google.maps.Map(document.getElementById("map"),{zoom:15,center:e});new google.maps.Marker({position:e,map:t})}var map="";function customMarker(e,t,r){this.latlng=e,this.args=r,this.setMap(t)}function getPhotoElements(){fetch("https://img.skicyclerun.com/private/db.json",{mode:"no-cors",cache:"no-cache"}).then(function(e){return e.json()}).then(function(e){var t=JSON.stringify(e);return console.log(t),t})}function setGoogleMap(){customMarker.prototype=new google.maps.OverlayView,customMarker.prototype.draw=function(){var t=this,e=this.div;e||((e=this.div=document.createElement("div")).className=t.args.class_name,void 0!==t.args.marker_id&&(e.dataset.marker_id=t.args.marker_id),void 0!==t.args.price&&(e.innerHTML=t.args.price+'<span class="currency">DKK</span>'),google.maps.event.addDomListener(e,"click",function(e){google.maps.event.trigger(t,"click")}),t.getPanes().overlayImage.appendChild(e));var r=t.getProjection().fromLatLngToDivPixel(t.latlng);r&&(e.style.left=r.x+"px",e.style.top=r.y+"px")}}function googleInit(){google.maps.event.addDomListener(window,"load",initialize)}function initMap2(){setGoogleMap();var e=document.getElementById("map"),t=new google.maps.LatLng(47.544539,-121.986808),r={center:t,zoom:15,mapTypeId:google.maps.MapTypeId.TERRAIN,scrollwheel:!1,disableDefaultUI:!0,zoomControl:!0,styles:[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#d3d3d3"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}]};map=new google.maps.Map(e,r);getPhotoElements();console.assert("here are the points: ");for(var a=document.getElementById("hotel-list").children,o=0,l=a.length;o<l;o++){new customMarker(new google.maps.LatLng(a[o].getAttribute("data-lat"),a[o].getAttribute("data-lng")),map,{class_name:"hotel-marker",marker_id:a[o].id,price:a[o].getAttribute("data-price")}).addListener("click",function(e){for(var t=document.querySelectorAll(".hotel-marker"),r=0,a=t.length;r<a;r++)t[r].getAttribute("data-marker_id")==this.div.getAttribute("data-marker_id")?t[r].classList.add("js-active"):t[r].classList.remove("js-active");for(var o=document.getElementById("hotel-list").children,l=0,i=o.length;l<i;l++)o[l].id===this.div.getAttribute("data-marker_id")?o[l].classList.add("js-active"):o[l].classList.remove("js-active")}),a[o].addEventListener("click",function(e){for(var t=document.querySelectorAll(".hotel-marker"),r=0,a=t.length;r<a;r++)t[r].getAttribute("data-marker_id")==this.id?t[r].classList.add("js-active"):t[r].classList.remove("js-active");for(var o=document.getElementById("hotel-list").children,l=0,i=o.length;l<i;l++)o[l].id===this.id?o[l].classList.add("js-active"):o[l].classList.remove("js-active")})}google.maps.event.addDomListener(map,"idle",function(){t=map.getCenter()}),google.maps.event.addDomListener(window,"resize",function(){map.panTo(t)}),googleInit()}